{% extends 'base.html' %}
{% block title %} Staff Members {% endblock %} 
{% block body %}
<section class="text-gray-600 body-font">
    <div class="container shadow-lg py-12 mx-auto">
        <div class="container mx-auto p-4">
            <section class="text-gray-600 body-font">
                <div class="container px-5 py-12 mx-auto">
                  <!-- Add Data Button -->
                  <button id="open-modal" class="bg-gray-500 hover-bg-gray-700 text-white font-bold py-2 px-4 rounded mb-4 flex items-center">
                      <svg class="w-4 h-4 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path>
                      </svg>
                      Add Request
                  </button>

                  <table class="min-w-full divide-y divide-gray-200">
                    <thead>
                      <tr>
                        <th class="px-6 py-3 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider">Duration</th>
                        <th class="px-6 py-3 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider">From Date</th>
                        <th class="px-6 py-3 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider">To Date</th>
                        <th class="px-6 py-3 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider">Resons</th>
                        <th class="px-6 py-3 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider">Acion</th>
                      </tr>
                    </thead>
                    <tbody class="bg-white divide-y divide-gray-200">
                      {%  for leave_request in leave_requests%}
                      <tr>
                        <td class="px-6 py-4 whitespace-no-wrap">{{leave_request.duration}}</td>
                        <td class="px-6 py-4 whitespace-no-wrap">{{leave_request.from_date}}</td>
                        <td class="px-6 py-4 whitespace-no-wrap">{{leave_request.to_date}}</td>
                        <td class="px-6 py-4 whitespace-no-wrap">{{leave_request.reason}}</td>
                        <td class="px-6 py-4 whitespace-no-wrap"><a href="{% url 'delete_request' leave_id=leave_request.id %}">
                          <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="30" height="30" viewBox="0,0,256,256"
                      style="fill:#000000;">
                      <g fill="#fa5252" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><g transform="scale(4,4)"><path d="M26.9375,4c-0.894,0 -1.73369,0.39408 -2.30469,1.08008c-0.058,0.069 -0.10558,0.14556 -0.14258,0.22656l-2.13281,4.69336h-11.35742c-1.654,0 -3,1.346 -3,3v6c0,1.654 1.346,3 3,3h2v35c0,1.654 1.346,3 3,3h32c1.654,0 3,-1.346 3,-3v-35h2c1.654,0 3,-1.346 3,-3v-6c0,-1.654 -1.346,-3 -3,-3h-11.35547l-2.13281,-4.69336c-0.037,-0.081 -0.08558,-0.15856 -0.14258,-0.22656c-0.572,-0.686 -1.41169,-1.08008 -2.30469,-1.08008zM26.9375,6h10.125c0.26,0 0.50741,0.10034 0.69141,0.27734l1.69336,3.72266h-14.89453l1.69336,-3.72266c0.185,-0.177 0.43141,-0.27734 0.69141,-0.27734zM11,12h42c0.551,0 1,0.448 1,1v6c0,0.552 -0.449,1 -1,1h-42c-0.551,0 -1,-0.448 -1,-1v-6c0,-0.552 0.449,-1 1,-1zM14,14c-0.552,0 -1,0.447 -1,1v2c0,0.553 0.448,1 1,1c0.552,0 1,-0.447 1,-1v-2c0,-0.553 -0.448,-1 -1,-1zM19,14c-0.552,0 -1,0.447 -1,1v2c0,0.553 0.448,1 1,1c0.552,0 1,-0.447 1,-1v-2c0,-0.553 -0.448,-1 -1,-1zM24,14c-0.552,0 -1,0.447 -1,1v2c0,0.553 0.448,1 1,1c0.552,0 1,-0.447 1,-1v-2c0,-0.553 -0.448,-1 -1,-1zM29,14c-0.552,0 -1,0.447 -1,1v2c0,0.553 0.448,1 1,1c0.552,0 1,-0.447 1,-1v-2c0,-0.553 -0.448,-1 -1,-1zM35,14c-0.552,0 -1,0.447 -1,1v2c0,0.553 0.448,1 1,1c0.552,0 1,-0.447 1,-1v-2c0,-0.553 -0.448,-1 -1,-1zM40,14c-0.552,0 -1,0.447 -1,1v2c0,0.553 0.448,1 1,1c0.552,0 1,-0.447 1,-1v-2c0,-0.553 -0.448,-1 -1,-1zM45,14c-0.552,0 -1,0.447 -1,1v2c0,0.553 0.448,1 1,1c0.552,0 1,-0.447 1,-1v-2c0,-0.553 -0.448,-1 -1,-1zM50,14c-0.552,0 -1,0.447 -1,1v2c0,0.553 0.448,1 1,1c0.552,0 1,-0.447 1,-1v-2c0,-0.553 -0.448,-1 -1,-1zM15,22h34v35c0,0.552 -0.449,1 -1,1h-32c-0.551,0 -1,-0.448 -1,-1v-1h23c0.552,0 1,-0.447 1,-1c0,-0.553 -0.448,-1 -1,-1h-23zM20,28c-0.552,0 -1,0.447 -1,1v12c0,0.553 0.448,1 1,1c0.552,0 1,-0.447 1,-1v-12c0,-0.553 -0.448,-1 -1,-1zM28,28c-0.552,0 -1,0.447 -1,1v20c0,0.553 0.448,1 1,1c0.552,0 1,-0.447 1,-1v-20c0,-0.553 -0.448,-1 -1,-1zM36,28c-0.552,0 -1,0.447 -1,1v20c0,0.553 0.448,1 1,1c0.552,0 1,-0.447 1,-1v-20c0,-0.553 -0.448,-1 -1,-1zM44,28c-0.552,0 -1,0.447 -1,1v4c0,0.553 0.448,1 1,1c0.552,0 1,-0.447 1,-1v-4c0,-0.553 -0.448,-1 -1,-1zM44,36c-0.552,0 -1,0.447 -1,1v12c0,0.553 0.448,1 1,1c0.552,0 1,-0.447 1,-1v-12c0,-0.553 -0.448,-1 -1,-1zM20,44c-0.552,0 -1,0.447 -1,1v4c0,0.553 0.448,1 1,1c0.552,0 1,-0.447 1,-1v-4c0,-0.553 -0.448,-1 -1,-1zM42,54c-0.552,0 -1,0.447 -1,1c0,0.553 0.448,1 1,1h4c0.552,0 1,-0.447 1,-1c0,-0.553 -0.448,-1 -1,-1z"></path></g></g>
                          </svg>
                        </a></td>
                      </tr>
                      {% endfor %}
                    </tbody>
                    <caption style="text-align: left; padding: 0 1rem; font-weight: bold; font-size: 30px;">My Pending Request</caption>
                  </table>
                </div>
              </section>

              <section class="text-gray-600 body-font">
                <div class="container px-5 py-12 mx-auto flex flex-wrap">
                  <div class="lg:w-3/5 md:w-1/2 md:pr-16 lg:pr-0 pr-0">
                    <section class="text-gray-600 body-font">
                      <div class="container px-5 py-12 mx-auto">
                        <table class="min-w-full divide-y divide-gray-200">
                          <thead>
                            <tr>
                              <th class="px-6 py-3 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider">Profile</th>
                              <th class="px-6 py-3 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider">Fullname</th>
                              <th class="px-6 py-3 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider">Mobile</th>
                              <th class="px-6 py-3 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider">Gender</th>
                              <th class="px-6 py-3 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider">Course</th>
                            </tr>
                          </thead>
                          <tbody class="bg-white divide-y divide-gray-200">
                           
                            <tr>
                              <td class="px-6 py-4 whitespace-no-wrap">
                                <img
                                  src=""
                                  class="user-avatar mr-3 h-6 sm:h-9"
                                  alt="Flowbite Logo"
                                />
                              </td>
                              <td class="px-6 py-4 whitespace-no-wrap"> </td>
                              <td class="px-6 py-4 whitespace-no-wrap"></td>
                              <td class="px-6 py-4 whitespace-no-wrap"></td>
                              <td class="px-6 py-4 whitespace-no-wrap"></td>
                            </tr>
                           
                          </tbody>
                          <caption style="text-align: left; padding: 0 1rem; font-weight: bold; font-size: 30px;">Latest students</caption>
                        </table>
                        
                      </div>
                    </section>
            
            <!-- Modal Form -->
            <div id="modal" class="fixed inset-0 flex items-center justify-center hidden">
                <div class="modal-overlay absolute w-full h-full bg-gray-900 opacity-50"></div>
                <div class="modal-container bg-white w-11/12 md:max-w-md mx-auto rounded shadow-lg z-50 overflow-y-auto">
                    <div class="modal-content py-4 text-left px-6">
                        <!-- Add your form fields here -->
                        <form action="{% url 'my_request' %}" method="post" enctype="multipart/form-data">
                            {% csrf_token %}
                            <h2 class="ext-gray-600 text-lg font-medium title-font mb-5" style="font-size: 30px; line-height: 35px;">
                                Leave Request
                            </h2>
                            <div class="relative mb-4">
                                <label for="leave_type" class="leading-7 text-sm text-gray-600">Leave Type</label>
                                <select name="leave_type" id="leave_type" class="w-full bg-white rounded border border-gray-300 focus:border-gray-500 focus:ring-2 focus:ring-gray-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out">
                                    <option value="">choose leave type</option> 
                                    {% for leave in leaves %}

                                    <option value="{{leave.id}}">
                                     {{leave.name|upper}}

                                    </option>
                                    {% endfor %}
                                  
                                </select>
                            </div>
                            <div class="relative mb-4">
                                <label for="duration" class="leading-7 text-sm text-gray-600">Leave Duration</label>
                                <select name="duration" id="duration" class="w-full bg-white rounded border border-gray-300 focus:border-gray-500 focus:ring-2 focus:ring-gray-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out">
                                  <option value="" disabled>Choose duration</option>
                                  <option value="full day">Full Day</option>
                                  <option value="first half">First Half</option>
                                  <option value="second half">Second Half</option>
                                </select>
                            </div>
                        
                            <div class="relative mb-4">
                              <label for="from_date" class="leading-7 text-sm text-gray-600"
                                >From Date</label
                              >
                              <input
                                type="date"
                                id="from_date"
                                name="from_date"
                                class="w-full bg-white rounded border border-gray-300 focus:border-gray-500 focus:ring-2 focus:ring-gray-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out"
                              />
                            </div>

                            <div class="relative mb-4">
                                <label for="to_date" class="leading-7 text-sm text-gray-600"
                                  >To Date</label
                                >
                                <input
                                  type="date"
                                  id="to_date"
                                  name="to_date"
                                  class="w-full bg-white rounded border border-gray-300 focus:border-gray-500 focus:ring-2 focus:ring-gray-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out"
                                />
                              </div>
                              <div class="relative mb-4">
                                <label for="reason" class="leading-7 text-sm text-gray-600"
                                  >Reason for Leave</label
                                >
                                <textarea name="reason" id="reason" cols="30" rows="2" class="w-full bg-white rounded border border-gray-300 focus:border-gray-500 focus:ring-2 focus:ring-gray-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out"></textarea>
                              </div>
                            
                    
                            <button
                              type="submit"
                              class="text-white bg-gray-500 border-0 py-2 px-8 focus:outline-none hover:bg-gray-600 rounded text-lg"
                            >
                              Submit
                            </button>
                          </form>
                        <button id="close-modal" class="modal-close absolute top-0 right-0 cursor-pointer flex flex-col items-center mt-4 mr-4 text-white text-sm z-50">
                            <svg class="fill-current text-white" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18">
                                <path d="M15 0l3.716 3.716-6.716 6.715 6.716 6.716-3.716 3.715-6.716-6.715-6.716 6.715-3.716-3.715 6.716-6.716-6.716-6.716 3.716-3.716 6.716 6.716z"/>
                            </svg>
                            <span class="text-sm">(Esc)</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    
        <script>
            // JavaScript code to open and close the modal goes here
            const openModalButton = document.getElementById('open-modal');
            const closeModalButton = document.getElementById('close-modal');
            const modal = document.getElementById('modal');
    
            openModalButton.addEventListener('click', () => {
                modal.classList.remove('hidden');
            });
    
            closeModalButton.addEventListener('click', () => {
                modal.classList.add('hidden');
            });
        </script>
    </div>
</section>
{% endblock %}